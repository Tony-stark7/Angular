<div class="inbox-wrapper">
  <!-- Header -->
  <header class="inbox-header">
    <div class="brand">
      <h1>ðŸ“¨ Inbox Pilot</h1>
    </div>
    <button class="logout-button" (click)="logout()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
           stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
        <polyline points="16 17 21 12 16 7"></polyline>
        <line x1="21" y1="12" x2="9" y2="12"></line>
      </svg>
      <span>Logout</span>
    </button>
  </header>

  <!-- Loading State -->
  <section *ngIf="loading" class="state-container loading">
    <div class="spinner">
      <div class="spinner-inner"></div>
    </div>
    <p>Loading your emails...</p>
  </section>

  <!-- Error State -->
  <section *ngIf="error" class="state-container error">
    <p>{{ error }}</p>
  </section>

  <!-- Email List -->
  <section *ngIf="!loading && !error" class="email-section">
    <table class="email-table">
      <thead>
        <tr>
          <th>From</th>
          <th>Subject</th>
          <th>Preview</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let email of emails; let i = index"
            class="email-row"
            [attr.data-index]="i"
            (click)="viewEmail(email.id)">
          <td>{{ email.from }}</td>
          <td>{{ email.subject || '(No Subject)' }}</td>
          <td>{{ email.snippet }}</td>
          <td>{{ email.date | date:'medium' }}</td>
        </tr>
      </tbody>
    </table>

    <!-- Empty State -->
    <div *ngIf="emails.length === 0" class="state-container empty">
      <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24"
           fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
        <rect x="2" y="4" width="20" height="16" rx="2"></rect>
        <path d="M22 7l-10 7L2 7"></path>
      </svg>
      <p>No emails found in your inbox.</p>
    </div>
  </section>
</div>
